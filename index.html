<!doctype html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daniela üòâ‚ú®</title>

<style>
body{
  margin:0;
  padding:0;
  background:#2E294E;
  overflow:hidden;
  font-family:'Georgia', serif;
}

canvas{
  position:absolute;
  top:0;
  left:0;
}

/* BOT√ìN */
.open-btn{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  padding:14px 32px;
  background:#B388EB;
  color:white;
  border:none;
  border-radius:40px;
  font-size:18px;
  cursor:pointer;
  opacity:0;
  transition:opacity 1.5s ease, transform .3s;
  z-index:10;
  box-shadow:0 0 25px rgba(205,180,219,0.5);
}

.open-btn.visible{
  opacity:1;
}

.open-btn:hover{
  transform:translate(-50%,-50%) scale(1.1);
}

/* CARTA RESPONSIVE */
.letter{
  position:fixed;
  top:50%;
  left:50%;
  width:90%;
  max-width:700px;
  padding:40px;
  background:linear-gradient(145deg,#F3E8FF,#E9D5FF);
  border-radius:25px;
  box-shadow:0 0 60px rgba(205,180,219,0.5);
  transform:translate(-50%,-50%) scale(0);
  transition:transform 0.8s ease;
  z-index:20;
  text-align:center;
  box-sizing:border-box;
}

.letter.show{
  transform:translate(-50%,-50%) scale(1);
}

.letter h2{
  font-size:clamp(22px, 3vw, 34px);
  color:#5E548E;
}

.letter p{
  font-size:clamp(16px, 2vw, 22px);
  line-height:1.8;
  color:#5E548E;
}

.close{
  position:absolute;
  top:15px;
  right:20px;
  cursor:pointer;
  font-size:20px;
  color:#5E548E;
}

/* AJUSTES PARA CELULAR */
@media (max-width: 600px){

  .letter{
    width:95%;
    padding:25px;
    border-radius:20px;
  }

  .letter h2{
    font-size:22px;
  }

  .letter p{
    font-size:16px;
    line-height:1.6;
  }

  .open-btn{
    font-size:16px;
    padding:10px 22px;
  }

}
</style>
</head>

<body>

<canvas id="canvas"></canvas>
<button class="open-btn" id="openBtn">Para DANIELA <br> üíå Abrir</button>

<div class="letter" id="letter">
  <div class="close" id="closeBtn">‚úñ</div>
  <h2>‚ÄúLo especial de tenerte en mi vida‚Äù üíú</h2>
  <p>
    Solo quer√≠a decirte que valoro much√≠simo tu presencia en mi vida. Hay personas que llegan
    y simplemente est√°n‚Ä¶ y hay otras que iluminan los d√≠as sin darse cuenta. T√∫ eres de esas.
  </p>
  <p>
    Admiro tu forma de ser, tu manera tan genuina de hablar, de re√≠r, de escuchar. 
    Contigo todo se siente m√°s ligero y m√°s bonito. Gracias por cada momento, 
    por tu confianza y por ser alguien tan especial.
  </p>
  <p>
    Me alegra mucho poder compartir mi tiempo contigo.<br>

    con cari√±o<br>

    --------- EMC üíú ---------
  </p>
</div>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resizeCanvas(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

let state = "rain";
let heartPoints = [];
let particles = [];
let rainItems = [];
let frameCount = 0;

/* Generar coraz√≥n */
function generateHeartPoints(){
  heartPoints = [];
  const centerX = canvas.width/2;
  const centerY = canvas.height/2;
  const scale = Math.min(canvas.width, canvas.height) / 60;

  for(let t=0;t<Math.PI*2;t+=0.1){
    const x = 16*Math.pow(Math.sin(t),3);
    const y = -(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
    heartPoints.push({
      x:centerX + x*scale,
      y:centerY + y*scale
    });
  }
}

class HeartParticle{
  constructor(tx,ty){
    this.x = Math.random()*canvas.width;
    this.y = Math.random()*canvas.height;
    this.tx = tx;
    this.ty = ty;
  }
  update(){
    this.x += (this.tx-this.x)*0.02;
    this.y += (this.ty-this.y)*0.02;
  }
  draw(){
    ctx.fillStyle="#CDB4DB";
    ctx.beginPath();
    ctx.arc(this.x,this.y,2,0,Math.PI*2);
    ctx.fill();
  }
}

class RainItem{
  constructor(){
    this.x = Math.random()*canvas.width;
    this.y = -20;
    this.speed = Math.random()*3+2;
    this.type = Math.random()>0.5 ? "üå∏" : "üíå";
    this.size = Math.random()*20+15;
  }
  update(){
    this.y += this.speed;
  }
  draw(){
    ctx.font=this.size+"px Arial";
    ctx.fillStyle=this.type==="üå∏" ? "#E0BBE4" : "#D8B4F8";
    ctx.fillText(this.type,this.x,this.y);
  }
}

generateHeartPoints();
heartPoints.forEach(p=>{
  particles.push(new HeartParticle(p.x,p.y));
});

function animate(){
  ctx.fillStyle="rgba(46,41,78,0.2)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  frameCount++;

  if(state==="rain"){
    rainItems.push(new RainItem());
    rainItems.forEach(r=>{
      r.update();
      r.draw();
    });

    if(frameCount>180){
      state="forming";
      rainItems=[];
    }
  }

  if(state==="forming"){
    particles.forEach(p=>{
      p.update();
      p.draw();
    });

    if(frameCount>420){
      state="formed";
      document.getElementById("openBtn").classList.add("visible");
    }
  }

  if(state==="letter"){
    rainItems.push(new RainItem());
    rainItems.forEach(r=>{
      r.update();
      r.draw();
    });
  }

  requestAnimationFrame(animate);
}

animate();

const openBtn = document.getElementById("openBtn");
const letter = document.getElementById("letter");
const closeBtn = document.getElementById("closeBtn");

openBtn.addEventListener("click",()=>{
  letter.classList.add("show");
  state="letter";
});

closeBtn.addEventListener("click",()=>{
  letter.classList.remove("show");
});
</script>

</body>
</html>


